## Film frontend

## Архитектура приложения

Приложение разработано с помощью библиотеки *React*. Для управления состоянием приложения был выбран *Redux* и библиотека middlewares - *Redux-Thunk*. В качестве библиотеки для UI была выбрана *Material UI*.

Приложение состоит из двух директорий: *public* и *src* и файла пакетного менеджера - package.json.

В папке public хранится index.html, favicon.ico, manifest.json и логотипы.

В папке scr находится главная точка входа в приложение - index.js в котором находятся все главные подключения системы: подключение store, инициализация роутинга и UI библиотеки и так же App.js.

В App.js находится весь роутинг системы.

Так же папка src имеет 4 директории: api, components, pages, store.

В директории ***api*** находится файл index.js со всей настройкой библиотеки axios. Настроены get и post запросы. Настроены headers. Все изолировано и в одном месте, что дает возможность быстрой настройки или нахождению бага в случае его возникновения.

В директории ***components*** находятся компоненты системы: AddModal, AppBar, Film, NoDetails, NoFilms, Search, SomethingWrong, Spinner, UploadFile.
#### AppBar
Отвечает за верхний бар с названием продукта, полем для поиска и кнопками добавления фильма и загрузки файла.
#### Film
Компонент отвечает за отображение карточки фильма с его названием, датой выпуска, форматом выпуска и звездами в этом фильме. Так же есть возможность удалять эту карточку и смотреть информацию о фильме.
#### NoDetails
Компонент отвечает за отображение для юзера того, что нет деталей о фильме и можно вернуться на главную.
#### NoFilms 
Компонент отвечает за отображение для юзера того, что нет фильмов.
#### Search
Компонент поиска. При вводе отправляется ключ на сервер и там проводится поиск. Так же здесь был добавлен дебоунс для сокращения запросов которые могли бы отправляться на сервер. Дебоунс ждет 1500мс. Если юзер за это время не вводит ничего, то отправляется запрос, но если нет то таймер сбивается и снова ждет 1500 мс.
#### SomethingWrong
Компонент для отображения юзеру того, что произошло что-то на сервере. Чтобы не крутился спинер или не показывалась ошибка.
#### Spinner
Компонент спиннера. Отображает процесс загрузки.
#### Upload
Модальное окно для загрузки файла на сервер. В нем выбирается нужный файл и при нажатии кнопки Upload загружается. Пример файла: example_file.txt
#### AddModal
Модальное окно добавления товара. В нем находится форма с валидацией на пустое поле, которое хендлится кастомным хуком. Если все поля заполенны, то выполняется отправка данных и при успешном выпополнении список обновляется. Список сортируется на бекенде по алфавиту.

В директории ***pages*** находятся две страницы: **Details** и **Films**
#### Films
На этой странице отображаются все фильмы, которые есть в базе. Если же фильмов нет - то отображается соответсвующий компонент. Пока товары грузятся - отображается спиннер загрузки. Так же вверху находится Appbar с нужными кнопками и полями.

#### Details
На этой странице отображаются детали о фильме. При инициализации компонента берется id из роута. Если такой товар есть, то он отображается, если нет, то выводится соответствующий компонент. 

В директерии ***store*** находится все состояние приложения. Это единственное место где находится истинное значения стейта. В этой директории есть свои поддиректории: ***actions*** с экшенами системы, ***reducer*** с редьюсерами, ***middlewares*** с мидлвеар для асинхронных запросов к апи. Так же есть файл index.js с инициализацией стора приложения и комбайн редьюсером и файл types со всеми типами.

# Установка приложения локально
1. Требуется локально установленный nodejs последней версии. Скачать можно по ссылке. (https://nodejs.org/uk/ "Ссылка на загрузку Node.js");
2. Установить git и зарегистрироватся в github.
3. Клонировать проект: в удобном месте прописать команду *git clone https://github.com/vladossuper/film-frontend.git*
4. После клонирования зайти в папку с приложением: *cd film-frontend*
5. В терминале ввести *npm install*
6. После завершения установки ввести в терминале *npm run start*

Задеплоиная версия на ***Heroku*** (https://moviesappreact.herokuapp.com/)
